<ion-header>
  <ion-toolbar>
    <ion-title>Conversor de Unidades</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content class="ion-padding">

  <ion-item>
    <ion-label>Categorias</ion-label>
    <ion-select [(ngModel)]="category" (ionChange)="fromUnit = units[category][0]; toUnit = units[category][1]">
      <ion-select-option *ngFor="let cat of categories" [value]="cat">{{ cat }}</ion-select-option>
    </ion-select>
  </ion-item>

  <ion-item>
    <ion-input type="number" [(ngModel)]="inputValue" placeholder="Valor"></ion-input>
  </ion-item>

  <ion-item>
    <ion-label>De</ion-label>
    <ion-select [(ngModel)]="fromUnit">
      <ion-select-option *ngFor="let u of units[category]" [value]="u">{{ u }}</ion-select-option>
    </ion-select>
  </ion-item>

  <ion-item>
    <ion-label>Para</ion-label>
    <ion-select [(ngModel)]="toUnit">
      <ion-select-option *ngFor="let u of units[category]" [value]="u">{{ u }}</ion-select-option>
    </ion-select>
  </ion-item>

  <ion-button expand="full" (click)="convert()">Converter</ion-button>

  <ion-card>
    <ion-card-header>Resultado</ion-card-header>
    <ion-card-content>{{ result }}</ion-card-content>
  </ion-card>

  <ion-list>
    <ion-list-header>Histórico</ion-list-header>
    <ion-item *ngFor="let item of history">
      {{ item.inputValue }} {{ item.fromUnit }} → {{ item.result }} {{ item.toUnit }} ({{ item.category }})
    </ion-item>
  </ion-list>

</ion-content>
